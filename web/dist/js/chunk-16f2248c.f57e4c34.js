(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16f2248c","chunk-28d68be8","chunk-2d0af6e5"],{"0901":function(e,t,n){"use strict";n("cf42")},"0dfa":function(e,t,n){"use strict";n.r(t),n.d(t,"urlPrefix",(function(){return s})),n.d(t,"GetList",(function(){return i})),n.d(t,"createObj",(function(){return c})),n.d(t,"UpdateObj",(function(){return l})),n.d(t,"DelObj",(function(){return u}));var r=n("22ce"),a=n("c695"),o=n.n(a),s="/sche/materialin/";function i(e){return e.limit=999,Object(r["c"])({url:s,method:"get",params:e}).then((function(e){return e.data.data=o.a.toArrayTree(e.data.data,{parentKey:"parent",strict:!1}),e}))}function c(e){return console.log("createObj",e),Object(r["c"])({url:s,method:"post",data:e})}function l(e){return Object(r["c"])({url:s+e.id+"/",method:"put",data:e})}function u(e){return Object(r["c"])({url:s+e+"/",method:"delete",data:{id:e}})}},"12f2":function(e,t,n){"use strict";n.r(t),n.d(t,"crudOptions",(function(){return a}));var r=n("22ce"),a=(n("ab1d"),n("0dfa"),n("c695"),n("c276"),function(e){return{pagination:{currentPage:1,pageSize:10,total:10,storage:!0,request:{current:"page",size:"limit"},response:{current:"page",size:function(e){return e.size},total:"total",records:"records"}},pageOptions:{compact:!0},searchOptions:{show:!0},options:{tableType:"vxe-table",rowKey:!1,rowId:"id",height:"100%",highlightCurrentRow:!1,defaultExpandAll:!0,cellStyle:function(e){e.row,e.column,e.rowIndex,e.columnIndex;return{"white-space":"nowrap",overflow:"hidden",padding:0,height:"10px"}}},rowHandle:{width:270,view:{show:!0,thin:!0,text:"",disabled:function(){return!e.hasPermissions("Retrieve")}},edit:{show:!0,thin:!0,text:"",disabled:function(){}},remove:{thin:!0,text:"",disabled:function(){return!e.hasPermissions("Delete")}},custom:[]},indexRow:!1,viewOptions:{componentType:"form"},formOptions:{width:"60%",center:!0,labelPosition:"left",gutter:20,defaultSpan:12},formGroup:{},columns:[{title:"材料名称",key:"material",sortable:!0,type:"select",search:{disabled:!1,component:{props:{clearable:!0}}},form:{component:{show:!0,span:12,disabled:!1,props:{clearable:!0},rules:[{required:!0,message:"材料名称不能为空"}]},valueChange:function(e,t,n,a){a.getColumn,a.mode,a.component,a.immediate,a.getComponent;Object(r["c"])({url:"/sche/data/"+t+"/unit/",method:"get",data:{}}).then((function(e){n.unit=e.data.unit}))}},dict:{getData:function(e,t,n){n.form,n.component;return Object(r["c"])({url:"/sche/data/material/",method:"get",data:{}}).then((function(e){return console.log(e),e}))},value:"id",label:"name"}},{title:"项目",key:"xiangmu",sortable:!0,type:"select",search:{disabled:!1,component:{props:{clearable:!0}}},form:{component:{show:!0,span:12,disabled:!1,props:{clearable:!0},rules:[{required:!0,message:"施工段不能为空"}]}},dict:{getData:function(e,t,n){n.form,n.component;return Object(r["c"])({url:"/sche/data/xiangmu/",method:"get",data:{}}).then((function(e){return console.log(e),e}))},value:"id",label:"name"},valueBuilder:function(e,t){}},{title:"数量",key:"quantity",sortable:!0,search:{disabled:!0,component:{props:{clearable:!0}}},form:{component:{show:!0,span:12,disabled:!1,props:{clearable:!0},rules:[{required:!0,message:"数量不能为空"}]}}},{title:"供应商",key:"gongying",sortable:!0,search:{disabled:!0,component:{props:{clearable:!0}}},form:{component:{show:!0,span:12,disabled:!1,props:{clearable:!0},rules:[{required:!1,message:""}]}}},{title:"单位",key:"unit",sortable:!0,search:{disabled:!0,component:{props:{clearable:!0}}},form:{component:{show:!0,span:12,disabled:!0,props:{clearable:!0},rules:[{required:!0,message:"单位不能为空"}]}}}]}})},"13b1":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("d2-container",{class:{"page-compact":e.crud.pageOptions.compact}},[n("d2-crud-x",e._g(e._b({ref:"d2Crud",attrs:{"selection-row":""},on:{detail:e.detail}},"d2-crud-x",e._crudProps,!1),e._crudListeners),[n("div",{attrs:{slot:"header"},slot:"header"},[n("crud-search",{ref:"search",attrs:{options:e.crud.searchOptions},on:{submit:e.handleSearch}}),n("el-button-group",[n("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"Create",expression:"'Create'"}],attrs:{size:"small",type:"primary"},on:{click:e.addRow}},[n("i",{staticClass:"el-icon-plus"}),e._v(" 新增 ")])],1),n("crud-toolbar",{attrs:{search:e.crud.searchOptions.show,compact:e.crud.pageOptions.compact,columns:e.crud.columns},on:{"update:search":function(t){return e.$set(e.crud.searchOptions,"show",t)},"update:compact":function(t){return e.$set(e.crud.pageOptions,"compact",t)},refresh:function(t){return e.doRefresh()},"columns-filter-changed":e.handleColumnsFilterChanged}})],1)])],1)},a=[],o=(n("b0c0"),n("0dfa")),s=n("12f2"),i=n("1fbf"),c={name:"materialin",mixins:[i["d2CrudPlus"].crud],data:function(){return{}},methods:{getCrudOptions:function(){return Object(s["crudOptions"])(this)},pageRequest:function(e){return o["GetList"](e)},addRequest:function(e){return console.log("addRequest",e),i["d2CrudPlus"].util.dict.clear(),o["createObj"](e)},updateRequest:function(e){return i["d2CrudPlus"].util.dict.clear(),o["UpdateObj"](e)},delRequest:function(e){return o["DelObj"](e.id)},createPermission:function(e){this.$router.push({name:"menuButton",params:{id:e.row.id},query:{name:e.row.name}})},detail:function(e){e.index;var t=e.row,n=this;if(console.log("这里是个方法码",t.tree,n.dialogVisible),n.tree_details=t.tree,console.log("这里是个方法码1111"),n.tree_type=t.tree.tree_type,console.log("这里是个方法码333"),n.tree_details.images)for(var r in console.log("这里是个方法码444"),n.tree_details.images)console.log("是这里吗",n.tree_details.images[r]),this.tree_details.images[r]="http://39.105.11.4:81/backend/"+this.tree_details.images[r];console.log("这里是个方法码222"),!1===n.dialogVisible&&(n.dialogVisible=!0)}}},l=c,u=(n("0901"),n("2877")),d=Object(u["a"])(l,r,a,!1,null,null,null);t["default"]=d.exports},ab1d:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return i}));n("d81d");var r={1:"success",true:"success",0:"danger",false:"danger",Search:"warning",Update:"primary",Create:"success",Retrieve:"info",Delete:"danger"};function a(e){return e.map((function(e){return{label:e.label,value:e.value,color:r[e.value]}}))}var o=a([{label:"启用",value:!0},{label:"禁用",value:!1}]),s=a([{label:"启用",value:1},{label:"禁用",value:0}]),i=(a([{label:"是",value:1},{label:"否",value:0}]),a([{label:"是",value:!0},{label:"否",value:!1}]))},cf42:function(e,t,n){}}]);